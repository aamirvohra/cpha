<div *ngIf="drug" class="row detail-wrapper">

  <div class="col-md-3 hidden-sm hidden-xs table-contents">
    <div>
      <ul>
        <li class="hidden-sm hidden-xs title">
          TABLE OF CONTENTS
        </li>
        <ng-container *ngFor="let drugContent of drug.topLevelDrugContents; let i = index">
          <li *ngIf="i > 0" class="list-content">
            <button class="btn-link" (click)="anchorNavigation(drugContent.anchorIdReference)">{{drugContent.header}}</button>
          </li>
        </ng-container>
        <ng-container *ngIf="drug.subCategoryDrug">
          <li class="list-content row" *ngFor="let subCategory of drug.subCategoryDrug">
            <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
              <button class="btn-link" (click)="anchorNavigation(subCategory.contents[0].anchorIdReference)">
                {{subCategory.contents[0].header}}
              </button>
              <ul class="nested-menu collapsed">
                <ng-container *ngFor="let contents of subCategory.contents; let i = index">
                  <li *ngIf="i > 0">
                    <button class="btn-link" (click)="anchorNavigation(contents.anchorIdReference)">{{contents.header}}</button>
                  </li>
                </ng-container>
              </ul>
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2" (click)="toggleNestedMenu($event)">
              <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </div>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
  <div class="col-md-9 content">
    <div class="col-xs-12 drug-overview">
      <div class="col-xs-12 col-sm-8 drug-title">
        <h1>{{drug.drugInfo[0].brandName}}</h1>
      </div>

      <div class="visible-xs visible-sm col-xs-4 col-sm-3 toc-xs-initiator">
        <button (click)="toggleTableOfContents()">
          <i class="fa fa-bars" aria-hidden="true"></i>
          <span>Contents</span>
        </button>
      </div>

      <div class="col-xs-4 col-xs-offset-4 col-sm-1 col-sm-offset-0 col-md-1 col-md-offset-3 action-list">
        <button (click)="toggleHighlight()">
          <i class="fa fa-pencil" aria-hidden="true"></i>
        </button>

        <button class="hidden-xs hidden-sm" (click)="print()">
          <i class="fa fa-print" aria-hidden="true"></i>
        </button>
      </div>
    </div>

    <div class="col-xs-12 revision-date">
      <span>{{drug.revisionDate}}</span>
    </div>

    <div class="drug-sub-category row auto-clear" *ngIf="drug.drugInfo.length > 1">
      <div *ngFor="let drugRecord of drug.drugInfo" class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="category">
          <div class="title">
            {{ drugRecord.brandName }}
          </div>
          <div>
            {{ drugRecord.genericName }}
          </div>
          <div>
            {{ drugRecord.therapeuticClass }}
          </div>
          <div>
            {{ drugRecord.manufacturers }}
          </div>
        </div>
      </div>
      <div class="clearfix visible-sm-block"></div>
    </div>

    <div class="col-xs-12 drug-info">
      <div *ngFor="let drugContents of drug.topLevelDrugContents" [innerHtml]="drugContents.htmlElement | safeHtml">
      </div>

      <div *ngFor="let drugContents of drug.subCategoryDrug">
        <div *ngFor="let contents of drugContents.contents" [innerHtml]="contents['htmlElement'] | safeHtml">

        </div>
      </div>
    </div>

  </div>
</div>